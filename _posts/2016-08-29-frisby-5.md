---
layout: post
title: 'Frisbyjs (Automate Rest Api Testing) - 4' 
author: teamsmiley 
date: 2016-08-29
tags: [Frisbyjs]
image: /files/covers/blog.jpg
category: {program}
---
# Frisbyjs (Automate Rest Api Testing) - 5 

## 서버에서 넘어온 값을 찍어봐야할대가 있다. 

서버에서 에러가 나야하고 그 에러메세지를 확인해야할 경우가 있다. 
신용카드를 포스트로 보내는 테스트인다. 

```cs
frisby.create('postUserPaymentMethods')
.addHeader('Authorization', 'Bearer ' + token)
.post(domain + '/paymentmethods', {
        'country':'1',
        'name':'asdf',
        'creditCardNumber':'234234',
        'type':'VISA',
        'cvv':'234',
        'expDateMonth':'02',
        'expDateYear':'2016',
        'address':'234234234',
        'city':'234',
        'state':'234',
        'zipcode':'234'
})
.expectStatus(200)
.toss();
```

백앤드에서 에러가 나면서 400번을 자꾸 리턴을 한다. 

에러를 찍어봐야 내용을 알수 있기 때문에 다음을 추가했다. 
```
.afterJSON(function (json){
    console.log(json);
})
```

전체 코드는 다음과 같다. 

```cs
frisby.create('postUserPaymentMethods')
.addHeader('Authorization', 'Bearer ' + token)
.post(domain + '/paymentmethods', {
        'country':'1',
        'name':'asdf',
        'creditCardNumber':'234234',
        'type':'VISA',
        'cvv':'234',
        'expDateMonth':'02',
        'expDateYear':'2016',
        'address':'234234234',
        'city':'234',
        'state':'234',
        'zipcode':'234'
})
.expectStatus(200)
.afterJSON(function (json){
    console.log(json);
})
.toss();
```
결과는 다음과 같다. 

![]({{site_baseurl}}/assets/frisby-conent-log.png)

