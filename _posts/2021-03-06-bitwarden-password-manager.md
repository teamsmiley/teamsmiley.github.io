---
layout: post
title: "bitwarden Password 매니저"
author: teamsmiley
date: 2021-03-06
tags: [coding]
image: /files/covers/blog.jpg
category: { program }
---

# 패스워드 보안관련

아침에 아이패드 사파리에서 로그인을 하는데 다음화면처럼 떴다.

![]({{ site_baseurl }}/assets/2021-03-08-11-06-46.png)

음 뭐지 하면서 하나씩 정리해보기로 햇다.

## apple ios

ios에서 비밀번호 leaking이 된걸 확인해서 알람으로 보여준다. 관련기능은 세팅에서 끌수 있다.

동작방식은 어디엔가(정확히는 못찾앗음) 디비가 있고 그걸 로그인시 비교해서 잇으면 알려준다고함.

같은 디비를 쓰는거같은데 다음 사이트가 있어서 거기에서 leaking을 확인할수 있다.

<https://haveibeenpwned.com>

여기서 확인하면 리킹이 있어는지 확인이 된다.

같은 기능이 크롬에도 있고 여러군데 있다.

웹만 사용한다면 크롬도 괞찮은 솔류션인듯 보인다. 그런데 앱등을 같이 사용하고싶다.

## 해결 방법

일단 해결방법을 고민해봣다 모든 사이트의 비번을 하나로 사용하다가. 지금은 패턴을 조금씩 바꿔서 하면서 구글 스프레드시트에 적어두는 방식으로 사용햇다.

그런데 이것도 사실 좀 그랫다 확인해보니 비밀번호 매니저라는것이 있다. 모든사이트의 비번을 다르게 생성하고 그것을 다 적어두었다가 사용시 자동으로 넣어주는 방식이다.

스프레드시트로 관리하던건 이쪽으로 옮기면 비빌번호를 모든사이트에 다르게 작성하는것이 가능할듯 싶다.

비밀번호 매니저를 사용해봐야겟다.

## 비밀번호 매니저

<https://bitwarden.com/> 이것저것 기웃거리다 지인의 추천으로 이걸 사용해보기로 결정. 무료고 face인식이나 지문인식을 지원해서 편리했다.

### 크롬에 저장된 비번 export

일단 크롬에서 비번을 저장해주는 기능에서 기존 비번을 export 하고 그걸 bitwarden에 넣어야한다.

<chrome://settings/passwords> 에서 여기를 누르면 export할수 있다.

![]({{ site_baseurl }}/assets/2021-03-10-07-05-09.png)

![]({{ site_baseurl }}/assets/2021-03-10-07-05-28.png)

### bitwarden

- 회원가입을 먼저 합니다.
- master password를 등록합니다.
- 그리고 난후 앱을 설치합니다.

https://bitwarden.com/download/ 에서 데스크탑용 앱을 설치한다.(해도 되고 안해도 됩니다.)

그리고 본인이 사용하는 웹브라우저 플러그인도 꼭 사용한다. 저는 구글 크롬 플러그인을 설치했습니다.

크롬 플러그인은 pin을 해두면 조금더 편하게 사용이 가능합니다.

![]({{ site_baseurl }}/assets/2021-03-10-07-20-29.png)

앱이나 플러그인을 켜면 로그인을 하라고하는데 회원가입할때 사용한 마스터 비번을 사용하여 로그인을 합니다.

### 아이템 추가

![]({{ site_baseurl }}/assets/2021-03-10-07-23-17.png)

![]({{ site_baseurl }}/assets/2021-03-10-07-24-21.png)

여기에서 아이디 비번을 넣을수 있다. 그리고 저장한다.

그리고 실제 사이트에 가보면 로그인시 자동으로 아이디 비번을 넣어준다. 혹시 자동으로 채워주지 않으면 크롬 플러그인버튼을 누르고 login중에 원하는 걸 고르고 클릭하면 웹사이트에 넣어준다. 만약 이것도 안된다고하면 비번을 복사해서 직접 비번창에 넣어주어야한다.

로그인말고도 개인정보(주소)/카드 등을 넣을수도 있습니다. 이 내용들을 나중에 플러그인에서 클릭하면 넣어준다.

### 사용하기

혹시 비번을 자동으로 안넣어주면 setting >> option >> enable autofil on pageload 라는 옵션을 켯는지 확인해보자.

![]({{ site_baseurl }}/assets/2021-03-10-07-28-56.png)

매번 재부팅을 하거나 할때 마스터 비번을 물어보는데 귀찮으면 pin으로 할수도 있다.

![]({{ site_baseurl }}/assets/2021-03-10-07-30-38.png)

아이폰이나 아이패드에서는 biometrics를 켜두고 사용하면 더 쉽다.

pin/biometrics를 둘다켜면 좀 이상해지는듯 보인다.

이제 비번을 다 등록해서 사용하면 된다.

핵심은 모든 사이트의 비번을 다 다르게 사용하는것이므로 기존사이트의 비번 변경을 모두 하고 새로 생성된 비번을 사용하고 모두 등록한후 사용하면 되겟다.

회원가입이나 비번변경시 bitwarden이 제공해주는 password generate를 사용하면 편하다.

![]({{ site_baseurl }}/assets/2021-03-10-07-39-22.png)

가끔 예전 비번이 오는경우는 option >> sync 를 하면 된다. 자동으로 업데이트가 되나 혹시 안되는경우에 사용하면된다.

### 크롬에서 임포트하기

크롬에 저장된 모든 비번을 임포트할수 있다. 미리 받아준 파일을 임포트하면된다.

<https://vault.bitwarden.com/#/tools/import>

여기서 임프트 할수 있다.

![]({{ site_baseurl }}/assets/2021-03-10-07-36-50.png)

가끔 실패가 나는경우가 있다. 그럴때는 파일을 메모장으로 열어서 확인해보자. 한줄이 너무 길면 에러가 나더라.

나의 경우는 그런 데이터는 짧게 줄여서 넣으니 잘 되었다.

### 크롬 비번 저장기능을 끄기

이제 bitwarden을 사용하니 크롬에서 자꾸 비번 저장하라고하는게 귀찮다. 꺼버리자.

![]({{ site_baseurl }}/assets/2021-03-09-10-57-35.png)

### ios에서 사용법

일단 ios앱을 설치한다. 로그인한다. 세팅에서 biomatric을 enable 한다.

auto fill이 중요한데 세팅을 누르면 메뉴얼이 나온다 그걸 하면 된다.

![]({{ site_baseurl }}/assets/2021-03-10-07-50-06.png)

![]({{ site_baseurl }}/assets/2021-03-10-07-51-51.png)

이제 로그인창에서 클릭을 하면 bitwarden을 선택할수 있다.

앱 extension 도 중요하다. 선택하고 enable을 하면 bitwarden이 보이는데 클릭하면 된다.

![]({{ site_baseurl }}/assets/2021-03-10-07-57-15.png)

앱에서 로그인을 하려고 하면 비번창이 나오고 그때 bitwarden 을 선택하면 비번을 넣을수 있다.

### 사용후 추가 팁

- 마스터 비번은 꼭 잘 기억해야한다. 그러므로 icloud key chain에 등록해두면 백업이 되서 나중에 사용할수 있다.
- 얼굴인식이나 지문을 사용하고 불가능한 시스템에서는 pin으로 관리를 편하게 할수 있다.
- 사이트 주소가 조금씩 다른경우는 하나의 아이디 비번에 여러개의 도메인을 지정할수 있다. item > edit 으로 가면 추가할수있어서 편한듯.
- 비번을 전부 바꾸는것이 좀 귀찮은 일이나 해킹을 방지하고자하면 꼭 필요한듯.
- 앱에서도 비번을 넣을수 있어 크롬을 사용하는것보다 훨씬 더 편하다.

## 2 Factor 인증

비번을 다 바꾸고 나면 2 factor 인증을 지원하는 사이트는 꼭 해둬야한다.

2 factor 인증은 로그인후에도 다시 한번더 뭔가를 물어보고 그 답을 해야 로그인이 되는 방식이다.

1000% 추천. 꼭 사용해야 한다. 번거럽지만 해킹을 많은경우에 방지할수 있다.

일반적으로 문자로 숫자를 받아서 그걸 넣어라고 하는경우가 많이 있다.

### 핸드폰 문자 방식

로그인후 핸드폰으로 문자를 보내줘서 그 문자에 적힌 내용을 넣으면 로그인을 완료 해준다.

### 앱을 사용하는 방식

앱을 사용하여 계속 변경되는 숫자를 앱을 보고 넣으면 로그인서버가 이 앱 서버쪽에 접속하여 같은 번호인지 확인하는 방법

관련앱으로는

- MS authentication
- Google Authenticator
- Authy (twilio)

사용법은 예를들면 깃랩의 경우

user preferences >> account >> enable

![]({{ site_baseurl }}/assets/2021-03-08-11-25-02.png)

이렇게 enable을 하고 나면 원하는 앱을 켜서 qr코드를 찍으면 등록이 되서 숫자가 계속 바귀는것을 볼수 잇을것이다.

로그인시 그 번호를 넣으면된다.
